"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useFetch = void 0;
const useAsync_1 = require("./useAsync");
const DEFAULT_OPTIONS = {
    headers: { 'Content-Type': 'application/json' },
};
function useFetch(url, options = {}, dependencies = []) {
    return (0, useAsync_1.useAsync)(async () => {
        const res = await fetch(url, { ...DEFAULT_OPTIONS, ...options });
        if (res.ok)
            return res.json();
        const json = await res.json();
        return Promise.reject(json);
    }, dependencies);
}
exports.useFetch = useFetch;
//# sourceMappingURL=useFetch.js.map